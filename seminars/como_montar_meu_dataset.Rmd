---
title: "Como montar meu banco de dados?"
date: 16 de agosto de 2016
header-includes:
   - \setbeamertemplate{navigation symbols}{}
   - \author[Eduardo Junior, Henrique Laureano]{Eduardo Elias Ribeiro Junior
                                                \and Henrique Aparecido Laureano}
   - \institute[]{Faculdade de Medicina \\ Universidade Federal de Minas Gerais \\
                  UFMG}
   - \usepackage{multicol}
   - \usepackage{booktabs}
output: 
  beamer_presentation: 
    colortheme: dove
    fonttheme: serif
    highlight: kate
    incremental: yes
    keep_tex: yes
    theme: Madrid
    toc: yes
---

```{r setup, include=FALSE}
library(knitr)

tema <- knit_theme$get("acid")

knit_theme$set(tema)

opts_chunk$set(size='small'
               , cache=TRUE, cache.path='cache/'
               , comment=NA, warning=FALSE, message=FALSE
               , fig.align='center', fig.width=8, fig.height=4.5
               , dpi=100, fig.path='iBagens/', fig.pos='H'
               , background='#ffffff'
               , results='hold', fig.show='hold')
```

# O que é um banco de dados?

## Definição

> Um banco de dados é uma coleção organizada de dados que se relaciona de forma a criar
  algum sentido (informação) e dar mais eficiência durante uma pesquisa ou estudo

\vfill

Simplificando:

\vspace{.75cm}

> Banco de dados é uma coleção de dados interligados entre si e organizados para
  fornecer informações

## Dados *vs* Informações

\[ {\rm Dados} \neq {\rm Informações} \]

Dados:

\vspace{.25cm}

> Fatos brutos, em sua forma primária. Muitas vezes os dados podem não fazer sentido
  sozinhos

\vspace{.5cm}

Informações:

\vspace{.25cm}

> Consiste no agrupamento de dados de forma organizada para fazer sentido, gerar
  conhecimento

\vfill

Um banco de dados é uma estrutura de dados organizada que permite a extração de
informações

# Qual o ponto de partida?

## Definições iniciais

* Qual o objetivo do estudo? \vspace{.2cm}

    + O que se deseja estudar? \vspace{.2cm}

    + Qual a hipótese a ser testada? \vspace{.2cm}

        - Qual(is) possível(is) diferença(s) deseja-se verificar?

\vspace{.5cm}

* Com seus objetivos definidos, quais características dos pacientes precisam ser
  avaliadas / mensuradas? \vspace{.2cm}
  
    + Se for para pecar, peque por excesso \vspace{.2cm}

        - É preferível ter mais informações mensuradas. Assim não se corre o risco
          de inviabilizar uma possível análise pela ausência do registro de
          informações

# Como organizar meu banco de dados?

## Como organizar meu banco de dados?

* Nas linhas os pacientes (unidades experimentais) \vspace{.3cm}

* Nas colunas suas informações avaliadas / mensuradas \vspace{.3cm}

* Cada informação mensurada deve ter sua própria coluna no banco de dados
  \vspace{.3cm}

* Procure atribuir nomes concisos às informações \vspace{.3cm}

* E se o paciente foi avaliado mais de uma vez em ao menos uma característica?
  \vspace{.3cm}

    + Ele deve receber uma nova linha no banco de dados, de preferência logo na linha
      abaixo \vspace{.3cm}
      
    + Nas características que não foram novamente avaliadas repete-se o valor
      (observação)

# Alguns exemplos

## Diabetes em descendentes da tribo indígina Pima

\begin{multicols}{2}
 \begin{itemize}
  \item id: identificador do paciente
  \item npreg: número de gestações
  \item glu: concentração de glicose no plasma
  \item bp: pressão sanguínea
  \item skin: espessura da prega cutânea no tríceps (mm)
  \item bmi: índice de massa corporal
  \item ped: diabetes pedigree
  \item age: idade
  \item type: yes ou no para diabetes
 \end{itemize}
\end{multicols}

```{r, echo=FALSE, results='asis'}
library(MASS)

data("Pima.tr")

library(xtable)

print(xtable(cbind(id = 1:7, Pima.tr[1:7, ])
             , align = rep("c", 10))
      , include.rownames = FALSE
      , comment = FALSE
      , booktabs = TRUE)
```

## Monitoramento de transplantes (trans) do coração

\begin{multicols}{2}
 \begin{itemize}
  \item id: identificador do paciente
  \item age: idade na hora do trans
  \item years: anos após o trans
  \item dage: idade do doador
  \item sex: sexo (0 = fem, 1 = masc)
  \item pdiag: motivo do trans
  \item cumrej: soma de episódios de rejeição aguda
  \item st: estado na hora da consulta
  \item fobs: trans (0 = não, 1 = sim)
  \item stmax: estado máximo observado
 \end{itemize}
\end{multicols}

```{r, echo=FALSE, results='asis'}
library(msm)

cav[ , 10] <- as.integer(cav[ , 10])

data <- cbind(id = as.integer(rep(1, 7)), cav[1:7, -1])

colnames(data)[8:10] <- c("st", "fobs", "stmax")

print(
  xtable(data, align = rep("c", 11))
  , include.rownames = FALSE
  , comment = FALSE
  , booktabs = TRUE)
```

## 10 anos de cirurgia colorretal: \newline complicações e fatores de risco

\includegraphics*[height = 7cm, width = 12cm]{print.JPG}